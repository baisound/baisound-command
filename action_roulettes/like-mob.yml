# like-mob.yml - TikTokいいね連動敵対MOBルーレット
# バランス設計: 2000いいね=30コイン、100コイン=ゾンビ100体、500コイン=全ロスト

roulette:
  enabled: true
  death_count_threshold: 0  # いいね連動のため死亡カウント無効
  cooldown_seconds: 5
  reset_counter_on_trigger: false
  disable_player_progression: false
  ignore:
    worlds: ["lobby","creative"]
    gamemodes: ["CREATIVE", "SPECTATOR"]
  safety:
    invulnerable_seconds: 5
    prevent_block_damage: true
    keep_equipment: false  # 敵対MOBなので装備保護なし
  fx:
    title:
      main: "&c&l🔥 敵対MOB襲来！"
      sub: "&e{like_count}いいねで召喚！"
      fadeIn: 10
      stay: 40
      fadeOut: 15
    bossbar:
      text: "&c&l⚔ MOB選択中… {sec}s"
      color: "RED"
      style: "PROGRESS"
      duration_seconds: 4
    actionbar:
      spinning: "&c抽選中… &7(残り {sec}s)"
      result_good: "&a&l【幸運】 &f{result_name}"
      result_bad: "&c&l【敵襲】 &f{result_name}"
      result_fun: "&e&l【演出】 &f{result_name}"
    sounds:
      start: "entity.wither.spawn"
      tick:  "entity.zombie.ambient"
      finish_good: "entity.player.levelup"
      finish_bad:  "entity.ghast.scream"
    particles:
      start:
        type: "soul_fire_flame"
        count: 80
        radius: 1.5
      loop:
        type: "smoke_large"
        count: 30
        radius: 2.0
      good:
        type: "villager_happy"
        count: 15
      bad:
        type: "explosion_large"
        count: 2
      fun:
        type: "enchant"
        count: 25
  entries:
    # 軽い脅威（30コイン価値・重み最高）
    - id: "zombie_drop"
      name: "ゾンビの急襲"
      weight: 35
      mood: "BAD"
      cmd:
        - "baisound {player} zombie 20 3 {sender}"
    - id: "zombie_villager_curse"
      name: "ゾンビ村人の呪い"
      weight: 30
      mood: "BAD"
      cmd:
        - "baisound {player} zombie_villager 5 3 {sender}"
    - id: "spider_jump"
      name: "クモ跳躍"
      weight: 25
      mood: "FUN"
      cmd:
        - "baisound {player} spider 5 3 {sender}"
    - id: "creeper_surprise"
      name: "いでよクリーパー"
      weight: 20
      mood: "FUN"
      cmd:
        - "baisound {player} creeper 3 3 {sender}"
    # 中程度脅威（100-200コイン価値・重み中）
    - id: "slime_bounce"
      name: "スライム跳躍"
      weight: 10
      mood: "FUN"
      cmd:
        - "baisound {player} slime 8 3 {sender}"
    - id: "phantom_dive"
      name: "ファントム急降下"
      weight: 6
      mood: "BAD"
      cmd:
        - "baisound {player} phantom 1 3 {sender}"
    - id: "blaze_fire"
      name: "ブレイズ火炎"
      weight: 5
      mood: "BAD"
      cmd:
        - "baisound {player} blaze 1 3 {sender}"
    - id: "enderman_warp"
      name: "エンダーマン瞬間移動"
      weight: 4
      mood: "FUN"
      cmd:
        - "baisound {player} enderman 1 3 {sender}"

    # 重い脅威（1000コイン価値・重み超低）
    - id: "warden_awaken"
      name: "ウォーデン覚醒（極稀）"
      weight: 1
      mood: "BAD"
      cmd:
        - "execute at @a run summon warden ~ ~1 ~"
    - id: "ravager_charge"
      name: "ラヴェジャー突進"
      weight: 2
      mood: "BAD"
      cmd:
        - "baisound {player} ravager 1 3 {sender}"    
    # 緩和・回復アクション（バランス調整）
    - id: "healing_potion"
      name: "回復ポーション"
      weight: 20
      mood: "GOOD"
      cmd:
        - "give {player} minecraft:potion{Potion:\"minecraft:strong_healing\"} 2"
    - id: "protection_boost"
      name: "防御力強化（60秒）"
      weight: 4
      mood: "GOOD"
      cmd:
        - "effect give {player} minecraft:resistance 60 1 true"
        - "effect give {player} minecraft:regeneration 60 0 true"